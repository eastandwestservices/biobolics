---
import DarkModeToggle from './DarkModeToggle.astro';
---

<header class="site-header">
  <!-- Logo -->
  <div class="logo">
    <a href="/">
      <img src="/images/logo-light.png" alt="Biobolics Logo" class="logo-img logo-light" />
      <img src="/images/logo-dark.png" alt="Biobolics Logo" class="logo-img logo-dark" />
    </a>
  </div>

  <!-- Navigation -->
  <nav class="site-nav">
    <ul>
      <li><a href="/" class="nav-link">Home</a></li>
      <li><a href="/about" class="nav-link">About</a></li>
      <li><a href="/nutrition" class="nav-link">Nutrition</a></li>
      <li><a href="/brands" class="nav-link">Brands</a></li>
      <li><a href="/blog" class="nav-link">Blog</a></li>
      <li><a href="/contact" class="nav-link">Contact</a></li>
      <li><a href="/distributors" class="nav-link">Distributor</a></li>
    </ul>
  </nav>

  <!-- Right Section -->
  <div class="header-right">
    <!-- Search -->
    <div class="search-container">
      <button class="search-btn" aria-label="Search">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"
          viewBox="0 0 24 24" fill="none" stroke="currentColor"
          stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8"/>
          <line x1="21" y1="21" x2="16.65" y2="16.65"/>
        </svg>
      </button>
      <input class="search-box" type="text" placeholder="Search..." />
    </div>

    <!-- Sign In -->
    <a href="/signin" class="signin-link">Sign In</a>

    <!-- Dark Mode Toggle -->
    <DarkModeToggle />
  </div>
</header>

<style>
:root {
  --header-bg: #ffffff;
  --link-color: #333333;
}

html.dark {
  --header-bg: #111827;
  --link-color: #f3f4f6;
}

/* ===== HEADER ===== */
.site-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 40px;
  width: 100%;
  position: sticky;
  top: 0;
  z-index: 9999;
  background: var(--header-bg);
  box-shadow: 0 2px 8px rgba(0,0,0,.05);
  transition: background 0.3s ease, color 0.3s ease;
}

/* ===== LOGO ===== */
.logo {
  height: 56px;
  display: flex;
  align-items: center;
}

.logo a { display: flex; align-items: center; }

.logo-img { max-height: 100%; width: auto; display: block; }

.logo-dark { display: none; }
html.dark .logo-light { display: none; }
html.dark .logo-dark { display: block; }

/* ===== NAVIGATION ===== */
.site-nav {
  flex: 1;
  display: flex;
  justify-content: center;
}

.site-nav ul {
  display: flex;
  gap: 28px;
  list-style: none;
  padding: 0;
  margin: 0;
}

.nav-link {
  text-decoration: none;
  font-weight: 500;
  color: var(--link-color);
  transition: color 0.3s ease;
}

.nav-link:hover { color: #e10600; }

/* ===== HEADER RIGHT ===== */
.header-right {
  display: flex;
  align-items: center;
  gap: 18px;
}

/* SEARCH */
.search-container { position: relative; }

.search-btn {
  background: none;
  border: none;
  cursor: pointer;
  color: rgba(0,0,0,.55);
  transition: color 0.3s ease;
}

.search-btn:hover { color: #2f80ed; }

.search-box {
  position: absolute;
  right: 100%;
  top: 50%;
  transform: translateY(-50%);
  width: 0;
  opacity: 0;
  padding: 6px 10px;
  border: 1px solid #ccc;
  border-radius: 6px;
  transition: all 0.3s ease;
  pointer-events: none;
}

.search-container:hover .search-box {
  width: 180px;
  opacity: 1;
  pointer-events: auto;
}

/* SIGN IN */
.signin-link {
  text-decoration: none;
  font-weight: 500;
  color: var(--link-color);
  transition: color 0.3s ease;
}

.signin-link:hover { color: #e10600; }

/* DARK MODE BUTTON */
.darkmode-btn {
  background: none;
  border: none;
  cursor: pointer;
  color: var(--link-color);
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  transition: background 0.25s ease;
}

/* RESPONSIVE */
@media (max-width: 900px) {
  .site-header {
    flex-direction: column;
    gap: 14px;
  }

  .site-nav ul { flex-direction: column; gap: 12px; }
}
</style>
