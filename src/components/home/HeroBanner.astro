---
import { heroData } from '@/data/hero';
const hero = heroData;
const hexagonImage = "/brands/sports/brand-hexagon.svg";
---

<section class="hero-banner relative w-full flex flex-col items-center justify-center overflow-visible">

  <!-- Particle Canvas -->
  <canvas id="heroParticles" class="hero-canvas" aria-hidden="true"></canvas>

  <!-- Blob Canvas -->
  <canvas id="heroBlobs" class="hero-blob-canvas" aria-hidden="true"></canvas>

  <!-- Smoke Canvas (behind hexagon) -->
  <canvas id="heroSmoke" class="hero-smoke-canvas" aria-hidden="true"></canvas>

  <!-- Hero content -->
  <div class="hero-container relative z-40 flex flex-col items-center text-center">
    <h1 class="hero-title">{hero.title}</h1>
    <p class="hero-slogan">FUEL YOUR POTENTIAL</p>
  </div>

  <!-- Hexagon at bottom -->
  <div class="hero-hexagon absolute left-1/2 bottom-0 z-50 pointer-events-none">
    <img src={hexagonImage} alt="Hero Hexagon" />
  </div>

</section>

<style>
.hero-banner {
  position: relative;
  width: 100%;
  height: 30vh;
  min-height: 220px;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: visible;
  background: linear-gradient(135deg, #0b1d33, #020b18);
  color: #fff;
}

/* Hero content */
.hero-container {
  position: relative;
  z-index: 40;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: 1rem;
  transform: translateY(-12%);
}

.hero-title {
  font-family: 'Montserrat', system-ui, -apple-system, sans-serif;
  font-weight: 800;
  font-size: clamp(2.6rem, 5vw, 3.1rem);
  color: #ffffff;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  margin: 0;
}

.hero-slogan {
  font-family: 'Montserrat', system-ui, -apple-system, sans-serif;
  font-weight: 700;
  font-size: clamp(1.37rem, 2.8vw, 1.37rem);
  letter-spacing: 0.2em;
  color: #e10600;
  margin: 0;
  text-transform: uppercase;
}

/* Hexagon */
.hero-hexagon {
  position: absolute;
  left: 50%;
  bottom: 0;
  transform: translateX(-50%) translateY(50%);
  width: 12%;
  max-width: 12rem;
  z-index: 50;
}

.hero-hexagon img {
  width: 100%;
  height: auto;
  display: block;
}

/* Particle Canvas */
.hero-canvas {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: 35;
  pointer-events: none;
}

/* Blob Canvas */
.hero-blob-canvas {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  z-index: 20;
  pointer-events: none;
}

/* Smoke Canvas (behind hexagon) */
.hero-smoke-canvas {
  position: absolute;
  left: 50%;
  bottom: 0;
  transform: translateX(-50%);
  width: 100%;
  height: 50%;
  max-height: 180px;
  z-index: 45;
  pointer-events: none;
}

/* Responsive */
@media (max-width: 1024px) {
  .hero-banner { height: 35vh; }
  .hero-title { font-size: clamp(2rem, 6vw, 2.6rem); }
  .hero-slogan { font-size: clamp(1rem, 3vw, 1.15rem); }
  .hero-hexagon { width: 15%; }
  .hero-smoke-canvas { max-height: 140px; }
}

@media (max-width: 768px) {
  .hero-banner { height: 40vh; }
  .hero-title { font-size: clamp(1.6rem, 7vw, 2.2rem); }
  .hero-slogan { font-size: clamp(0.9rem, 3.5vw, 1rem); }
  .hero-hexagon { width: 20%; }
  .hero-smoke-canvas { max-height: 100px; }
}
</style>

<script>
/* ===========================
   Premium Moving Blobs
=========================== */
(function() {
  const canvas = document.getElementById('heroBlobs');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  if (!ctx) return;

  let blobs = [];
  const colors = [
    'rgba(225,6,0,0.15)',
    'rgba(255,165,0,0.12)',
    'rgba(0,150,255,0.12)',
    'rgba(255,0,255,0.10)',
    'rgba(0,255,150,0.10)'
  ];

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = document.querySelector('.hero-banner').offsetHeight;
  }

  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  function Blob() {
    this.reset = function() {
      this.x = Math.random() * canvas.width;
      this.y = Math.random() * canvas.height;
      this.radius = 50 + Math.random() * 100;
      this.color = colors[Math.floor(Math.random() * colors.length)];
      this.speedX = -0.1 + Math.random() * 0.2;
      this.speedY = -0.1 + Math.random() * 0.2;
      this.angle = Math.random() * Math.PI * 2;
      this.rotationSpeed = (Math.random() - 0.5) * 0.0005;
    };
    this.update = function() {
      this.x += this.speedX;
      this.y += this.speedY;
      this.angle += this.rotationSpeed;
      if(this.x < -this.radius) this.x = canvas.width + this.radius;
      if(this.x > canvas.width + this.radius) this.x = -this.radius;
      if(this.y < -this.radius) this.y = canvas.height + this.radius;
      if(this.y > canvas.height + this.radius) this.y = -this.radius;
    };
    this.draw = function() {
      const gradient = ctx.createRadialGradient(this.x, this.y, this.radius*0.1, this.x, this.y, this.radius);
      gradient.addColorStop(0, this.color);
      gradient.addColorStop(1, 'rgba(0,0,0,0)');
      ctx.fillStyle = gradient;
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
      ctx.fill();
    };
    this.reset();
  }

  function initBlobs() {
    blobs = [];
    for(let i = 0; i < 12; i++) blobs.push(new Blob());
  }

  function animateBlobs() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    blobs.forEach(b => { b.update(); b.draw(); });
    requestAnimationFrame(animateBlobs);
  }

  initBlobs();
  animateBlobs();
})();
</script>

<script>
/* ===========================
   Hexagon Particles Animation
=========================== */
(function() {
  const canvas = document.getElementById("heroParticles");
  if (!canvas) return;
  const ctx = canvas.getContext("2d");
  if (!ctx) return;

  let particles = [];
  let particleCount = window.innerWidth > 768 ? 30 : 10;
  const mouse = { x: 0, y: 0 };
  const mutedPalette = ['#555555', '#666666', '#777777', '#4f4f4f', '#5a5a5a'];

  function resizeCanvas() {
    const hero = document.querySelector(".hero-banner");
    if (hero) {
      canvas.width = window.innerWidth;
      canvas.height = hero.offsetHeight;
    }
  }

  window.addEventListener("resize", function() {
    particleCount = window.innerWidth > 768 ? 30 : 10;
    resizeCanvas();
    initParticles();
  });

  window.addEventListener("mousemove", function(e) {
    const rect = canvas.getBoundingClientRect();
    mouse.x = e.clientX - rect.left;
    mouse.y = e.clientY - rect.top;
  });

  resizeCanvas();

  function drawHexagon(x, y, radius, angle, color) {
    ctx.beginPath();
    for (let i = 0; i < 6; i++) {
      const a = (Math.PI / 3) * i + angle;
      const px = x + radius * Math.cos(a);
      const py = y + radius * Math.sin(a);
      if (i === 0) ctx.moveTo(px, py);
      else ctx.lineTo(px, py);
    }
    ctx.closePath();
    ctx.fillStyle = color;
    ctx.fill();
  }

  function Particle() {
    this.reset = function() {
      this.x = Math.random() * canvas.width;
      this.y = Math.random() * canvas.height;
      this.radius = 3 + Math.random() * 3;
      this.speedX = -0.15 + Math.random() * 0.3;
      this.speedY = -0.15 + Math.random() * 0.3;
      this.angle = Math.random() * Math.PI * 2;
      this.rotationSpeed = (Math.random() - 0.5) * 0.002;
      const rand = Math.random();
      if (rand < 0.1) this.color = '#ffffff';
      else if (rand < 0.4) this.color = '#e10600';
      else this.color = mutedPalette[Math.floor(Math.random() * mutedPalette.length)];
    };

    this.update = function() {
      this.x += this.speedX;
      this.y += this.speedY;
      this.angle += this.rotationSpeed;

      if (this.x < 0 || this.x > canvas.width || this.y < 0 || this.y > canvas.height) this.reset();

      if (mouse.x !== 0 && mouse.y !== 0) {
        const dx = this.x - mouse.x;
        const dy = this.y - mouse.y;
        const dist = Math.sqrt(dx*dx + dy*dy);
        if (dist < 100) { this.x += dx / 20; this.y += dy / 20; }
      }
    };

    this.draw = function() {
      drawHexagon(this.x, this.y, this.radius, this.angle, this.color);
      if (this.color === '#e10600') {
        ctx.beginPath();
        for (let i = 0; i < 6; i++) {
          const a = (Math.PI / 3) * i + this.angle;
          const px = this.x + (this.radius + 2) * Math.cos(a);
          const py = this.y + (this.radius + 2) * Math.sin(a);
          if (i === 0) ctx.moveTo(px, py);
          else ctx.lineTo(px, py);
        }
        ctx.closePath();
        ctx.strokeStyle = '#ffffff';
        ctx.lineWidth = 1.5;
        ctx.stroke();
      }
    };

    this.reset();
  }

  function initParticles() {
    particles = [];
    for (let i = 0; i < particleCount; i++) particles.push(new Particle());
  }

  function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    particles.forEach(p => { p.update(); p.draw(); });
    requestAnimationFrame(animate);
  }

  initParticles();
  animate();
})();
</script>

<script>
/* ===========================
   Smoke/Smog Effect Behind Hexagon
=========================== */
(function() {
  const canvas = document.getElementById('heroSmoke');
  if(!canvas) return;
  const ctx = canvas.getContext('2d');
  if(!ctx) return;

  let smokes = [];

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = document.querySelector('.hero-smoke-canvas').offsetHeight;
  }
  window.addEventListener('resize', resizeCanvas);
  resizeCanvas();

  function Smoke() {
    this.reset = function() {
      this.x = Math.random() * canvas.width;
      this.y = canvas.height + Math.random() * 50;
      this.radius = 40 + Math.random() * 60;
      this.alpha = 0.05 + Math.random() * 0.08;
      this.speedY = -0.02 - Math.random() * 0.03;
      this.angle = Math.random() * Math.PI * 2;
    };
    this.update = function() {
      this.y += this.speedY;
      if(this.y + this.radius < 0) this.reset();
    };
    this.draw = function() {
      const gradient = ctx.createRadialGradient(this.x, this.y, this.radius*0.1, this.x, this.y, this.radius);
      gradient.addColorStop(0, `rgba(200,200,200,${this.alpha})`);
      gradient.addColorStop(1, 'rgba(0,0,0,0)');
      ctx.fillStyle = gradient;
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
      ctx.fill();
    };
    this.reset();
  }

  function initSmoke() {
    smokes = [];
    for(let i=0;i<10;i++) smokes.push(new Smoke());
  }

  function animateSmoke() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    smokes.forEach(s => { s.update(); s.draw(); });
    requestAnimationFrame(animateSmoke);
  }

  initSmoke();
  animateSmoke();
})();
</script>
